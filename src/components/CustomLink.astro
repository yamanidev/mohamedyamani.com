---
// `href` prop from the MDX file
const { href }: Record<string, any> = Astro.props;

let attributes: { target?: string; rel?: string } = {};

const domain = import.meta.env.SITE;

// Open external links in new tabs
if (!href.includes(domain) && !href.startsWith("/") && !href.startsWith("#")) {
  attributes["target"] = "_blank";
  attributes["rel"] = "noopener noreferrer";
}
---

<!-- prettier-ignore -->
<a href={href} {...attributes}><slot /></a>
